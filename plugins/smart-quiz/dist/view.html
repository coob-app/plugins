<div id="root"></div><script defer="defer">(()=>{"use strict";var e={2:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(601),o=n.n(s),r=n(314),i=n.n(r)()(o());i.push([e.id,".view-container {\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 16px;\n    color: var(--bx-text-color, #333);\n}\n\n/* Start Screen */\n.start-screen {\n    text-align: center;\n    padding: 60px 20px;\n}\n\n.quiz-title {\n    font-size: 2.5rem;\n    font-weight: 700;\n    color: var(--bx-text-color, #333);\n    margin-bottom: 20px;\n}\n\n.quiz-description {\n    font-size: 1.2rem;\n    color: var(--bx-hint-color, #666);\n    margin-bottom: 40px;\n    line-height: 1.6;\n}\n\n.start-button {\n    background: var(--bx-button-color, #3A205B);\n    color: var(--bx-button-text-color, #fff);\n    border: none;\n    padding: 16px 32px;\n    font-size: 1.3rem;\n    font-weight: 600;\n    border-radius: 12px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    box-shadow: 0 4px 12px rgba(58, 32, 91, 0.3);\n}\n\n.start-button:hover {\n    background: var(--bx-button-color, #3A205B);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px rgba(58, 32, 91, 0.4);\n}\n\n/* Quiz Header */\n.quiz-header {\n    text-align: center;\n    margin-bottom: 30px;\n    padding-bottom: 20px;\n}\n\n.quiz-header .quiz-title {\n    font-size: 2rem;\n    font-weight: 700;\n    color: var(--bx-text-color, #333);\n    margin-bottom: 5px;\n}\n\n.progress-info {\n    font-size: 1.1rem;\n    color: var(--bx-hint-color, #666);\n    margin-bottom: 15px;\n}\n\n.progress-bar {\n    width: 100%;\n    height: 8px;\n    background: var(--bx-light-bg-color, #e9ecef);\n    border-radius: 4px;\n    overflow: hidden;\n}\n\n.progress-fill {\n    height: 100%;\n    background: linear-gradient(90deg, var(--bx-button-color, #007bff), var(--bx-button-color, #0056b3));\n    transition: width 0.3s ease;\n}\n\n/* Question Navigation */\n.question-navigation {\n    display: flex;\n    justify-content: center;\n    gap: 8px;\n    margin-bottom: 20px;\n    flex-wrap: wrap;\n}\n\n.question-nav-btn {\n    width: 40px;\n    height: 40px;\n    border: 2px solid var(--bx-border-color, #dee2e6);\n    border-radius: 50%;\n    background: var(--bx-background-color, #fff);\n    color: var(--bx-text-color, #333);\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.question-nav-btn:hover {\n    border-color: var(--bx-button-color, #007bff);\n}\n\n.question-nav-btn.active {\n    border-color: var(--bx-button-color, #007bff);\n    background: var(--bx-button-color, #007bff);\n    color: var(--bx-button-text-color, #fff);\n}\n\n.question-nav-btn.answered {\n}\n\n.question-nav-btn.answered.active {\n    border-color: var(--bx-button-color, #007bff);\n    background: var(--bx-button-color, #007bff);\n}\n\n.question-nav-btn.disabled {\n    border-color: var(--bx-disabled-text-color, #e9ecef);\n    color: var(--bx-disabled-text-color, #6c757d);\n    cursor: not-allowed;\n    opacity: 0.6;\n}\n\n.question-nav-btn.disabled:hover {\n    border-color: var(--bx-disabled-text-color, #e9ecef);\n    color: var(--bx-disabled-text-color, #6c757d);\n}\n\n/* Question Navigation Buttons */\n.question-nav-buttons {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n}\n\n.nav-btn {\n    background: var(--bx-button-color, #007bff);\n    color: var(--bx-button-text-color, #fff);\n    border: none;\n    border-radius: 8px;\n    padding: 12px 20px;\n    font-size: 14px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.2s ease;\n}\n\n.nav-btn:hover:not(:disabled) {\n    background: var(--bx-button-color, #0056b3);\n    transform: translateY(-1px);\n}\n\n.nav-btn:disabled {\n    background: var(--bx-border-color, #6c757d);\n    cursor: not-allowed;\n    transform: none;\n}\n\n/* Question Card */\n.question-card {\n}\n\n.question-card:hover {\n}\n\n.question-header {\n    display: flex;\n    align-items: flex-start;\n    gap: 16px;\n    margin-bottom: 20px;\n}\n\n.question-number {\n    background: var(--bx-button-color, #007bff);\n    color: var(--bx-button-text-color, #fff);\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 700;\n    font-size: 16px;\n    flex-shrink: 0;\n}\n\n.question-text {\n    font-size: 1.2rem;\n    font-weight: 600;\n    color: var(--bx-text-color, #333);\n    line-height: 1.4;\n    flex: 1;\n    min-width: 0; /* Allows text to wrap */\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n}\n\n/* Options List */\n.options-list {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n}\n\n.option-label {\n    display: flex;\n    align-items: center;\n    padding: 16px;\n    background: var(--bx-secondary-background-color, #fff);\n    border: 2px solid var(--bx-hint-color, #dee2e6);\n    border-radius: 8px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    font-size: 16px;\n}\n\n.option-label:hover {\n    border-color: var(--bx-button-color, #007bff);\n    background: var(--bx-secondary-background-color, #f0f8ff);\n}\n\n.option-label.selected {\n    border-color: var(--bx-button-color, #007bff);\n    background: var(--bx-secondary-background-color, #e3f2fd);\n}\n\n.option-label.disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    background: var(--bx-secondary-background-color, #f5f5f5);\n    border-color: var(--bx-hint-color, #ccc);\n}\n\n.option-label.disabled:hover {\n    border-color: var(--bx-hint-color, #ccc);\n    background: var(--bx-secondary-background-color, #f5f5f5);\n}\n\n.option-label.disabled .option-input {\n    cursor: not-allowed;\n}\n\n.option-label.disabled .option-text {\n    color: var(--bx-hint-color, #999);\n}\n\n.option-input {\n    margin-right: 12px;\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n}\n\n.option-text {\n    flex: 1;\n    color: var(--bx-text-color, #333);\n}\n\n/* Submit Section */\n.submit-section {\n    margin-top: 40px;\n    text-align: center;\n}\n\n.submit-info {\n    margin-bottom: 16px;\n    color: var(--bx-text-color, #666);\n    font-size: 14px;\n}\n\n.submit-button {\n    background: linear-gradient(135deg, var(--bx-success-color, #28a745), var(--bx-success-color, #20c997));\n    color: var(--bx-button-text-color, #fff);\n    border: none;\n    border-radius: 8px;\n    padding: 16px 32px;\n    font-size: 18px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);\n    min-width: 200px;\n}\n\n.submit-button:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);\n}\n\n.submit-button.disabled {\n    background: var(--bx-border-color, #6c757d);\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n}\n\n/* System Error Display */\n.system-error {\n    border: 1px solid var(--bx-danger-color, #dc3545);\n    border-radius: 6px;\n    padding: 12px;\n    margin-bottom: 16px;\n    color: var(--bx-danger-color, #dc3545);\n    font-size: 14px;\n    text-align: center;\n}\n\n/* Loading State */\n.loading-state {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 12px;\n    margin-bottom: 16px;\n    color: var(--bx-hint-color, #666);\n    font-size: 14px;\n}\n\n.loading-spinner {\n    width: 20px;\n    height: 20px;\n    border: 2px solid var(--bx-border-color, #e1e5e9);\n    border-top: 2px solid var(--bx-button-color, #007bff);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n/* Results Screen */\n.results-screen {\n    text-align: center;\n}\n\n.results-title {\n    font-size: 2.5rem;\n    font-weight: 700;\n    color: var(--bx-text-color, #333);\n    margin-bottom: 30px;\n}\n\n.results-score {\n    font-size: 3rem;\n    font-weight: 700;\n    color: var(--bx-button-color, #007bff);\n    margin-bottom: 15px;\n}\n\n.results-percentage {\n    font-size: 1.5rem;\n    color: var(--bx-hint-color, #666);\n    margin-bottom: 40px;\n}\n\n.results-details {\n    margin-bottom: 40px;\n}\n\n.question-result {\n    background: var(--bx-secondary-background-color, #e3f2fd);\n    border-radius: 8px;\n    padding: 20px;\n    margin-bottom: 16px;\n    text-align: left;\n    border-left: 4px solid var(--bx-border-color, #dee2e6);\n}\n\n.question-result.correct {\n    border-left-color: var(--bx-success-color, #28a745);\n}\n\n.question-result.incorrect {\n    border-left-color: var(--bx-danger-color, #dc3545);\n}\n\n.question-result-title {\n    font-size: 1.1rem;\n    font-weight: 600;\n    margin-bottom: 12px;\n    color: var(--bx-text-color, #333);\n}\n\n.result-icon {\n    margin-right: 8px;\n    font-size: 1.2rem;\n}\n\n.question-result.correct .result-icon {\n    color: var(--bx-success-color, #28a745);\n}\n\n.question-result.incorrect .result-icon {\n    color: var(--bx-danger-color, #dc3545);\n}\n\n.question-result-text {\n    font-size: 1rem;\n    color: var(--bx-text-color, #333);\n    margin-bottom: 12px;\n    line-height: 1.4;\n}\n\n.answer-info {\n    font-size: 0.9rem;\n    color: var(--bx-hint-color, #666);\n}\n\n.answer-label {\n    font-weight: 600;\n    margin-right: 8px;\n}\n\n.answer-text {\n    font-weight: 500;\n}\n\n.answer-text.correct {\n    color: var(--bx-success-color, #28a745);\n}\n\n.answer-text.user {\n    color: var(--bx-danger-color, #dc3545);\n}\n\n.retry-button {\n    background: var(--bx-button-color, #3A205B);\n    color: var(--bx-button-text-color, #fff);\n    border: none;\n    padding: 16px 32px;\n    font-size: 1.1rem;\n    font-weight: 600;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    box-shadow: 0 4px 12px rgba(58, 32, 91, 0.3);\n}\n\n.retry-button:hover {\n    background: var(--bx-button-color, #3A205B);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px rgba(58, 32, 91, 0.4);\n}\n\n/* Error Message */\n.error-message {\n    text-align: center;\n    padding: 40px 20px;\n    color: var(--bx-danger-color, #dc3545);\n    font-size: 1.1rem;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n    .view-container {\n        padding: 12px;\n    }\n\n    .quiz-title {\n        font-size: 2rem;\n    }\n\n    .start-button {\n        padding: 14px 28px;\n        font-size: 1.2rem;\n    }\n\n    .question-card {\n        padding: 20px;\n    }\n\n    .option-label {\n        padding: 14px;\n        font-size: 15px;\n    }\n\n    .submit-button {\n        padding: 14px 28px;\n        font-size: 16px;\n        min-width: 180px;\n    }\n}\n\n@media (max-width: 480px) {\n    .view-container {\n        padding: 8px;\n        margin: 5px;\n    }\n    \n    .quiz-title {\n        font-size: 1.8rem;\n    }\n    \n    .start-button {\n        padding: 12px 24px;\n        font-size: 1.1rem;\n    }\n\n    .question-card {\n        padding: 16px;\n    }\n\n    .option-label {\n        padding: 12px;\n        font-size: 14px;\n    }\n\n    .submit-button {\n        padding: 12px 24px;\n        font-size: 15px;\n        min-width: 160px;\n    }\n}\n",""]);const a=i},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var r={},i=[],a=0;a<e.length;a++){var l=e[a],u=s.base?l[0]+s.base:l[0],c=r[u]||0,d="".concat(u," ").concat(c);r[u]=c+1;var p=n(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=o(h,s);s.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=s(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<r.length;i++){var a=n(r[i]);t[a].references--}for(var l=s(e,o),u=0;u<r.length;u++){var c=n(r[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}r=l}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,s,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);s&&i[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,o&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={id:s,exports:{}};return e[s](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var s,o,r,i,a,l,u,c,d,p,h,f={},_=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,b=Array.isArray;function x(e,t){for(var n in t)e[n]=t[n];return e}function m(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function v(e,t,n){var o,r,i,a={};for(i in t)"key"==i?o=t[i]:"ref"==i?r=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?s.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return w(e,a,o,r,null)}function w(e,t,n,s,i){var a={type:e,props:t,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++r:i,__i:-1,__u:0};return null==i&&null!=o.vnode&&o.vnode(a),a}function y(e){return e.children}function S(e,t){this.props=e,this.context=t}function z(e,t){if(null==t)return e.__?z(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?z(e):null}function A(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return A(e)}}function Q(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!q.__r++||a!=o.debounceRendering)&&((a=o.debounceRendering)||l)(q)}function q(){for(var e,t,n,s,r,a,l,c=1;i.length;)i.length>c&&i.sort(u),e=i.shift(),c=i.length,e.__d&&(n=void 0,r=(s=(t=e).__v).__e,a=[],l=[],t.__P&&((n=x({},s)).__v=s.__v+1,o.vnode&&o.vnode(n),E(t.__P,n,s,t.__n,t.__P.namespaceURI,32&s.__u?[r]:null,a,null==r?z(s):r,!!(32&s.__u),l),n.__v=s.__v,n.__.__k[n.__i]=n,P(a,n,l),n.__e!=r&&A(n)));q.__r=0}function k(e,t,n,s,o,r,i,a,l,u,c){var d,p,h,g,b,x,m,v=s&&s.__k||_,w=t.length;for(l=N(n,t,v,l,w),d=0;d<w;d++)null!=(h=n.__k[d])&&(p=-1==h.__i?f:v[h.__i]||f,h.__i=d,x=E(e,h,p,o,r,i,a,l,u,c),g=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&F(p.ref,null,h),c.push(h.ref,h.__c||g,h)),null==b&&null!=g&&(b=g),(m=!!(4&h.__u))||p.__k===h.__k?l=R(h,l,e,m):"function"==typeof h.type&&void 0!==x?l=x:g&&(l=g.nextSibling),h.__u&=-7);return n.__e=b,l}function N(e,t,n,s,o){var r,i,a,l,u,c=n.length,d=c,p=0;for(e.__k=new Array(o),r=0;r<o;r++)null!=(i=t[r])&&"boolean"!=typeof i&&"function"!=typeof i?(l=r+p,(i=e.__k[r]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?w(null,i,null,null,null):b(i)?w(y,{children:i},null,null,null):null==i.constructor&&i.__b>0?w(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,a=null,-1!=(u=i.__i=C(i,n,l,d))&&(d--,(a=n[u])&&(a.__u|=2)),null==a||null==a.__v?(-1==u&&(o>c?p--:o<c&&p++),"function"!=typeof i.type&&(i.__u|=4)):u!=l&&(u==l-1?p--:u==l+1?p++:(u>l?p--:p++,i.__u|=4))):e.__k[r]=null;if(d)for(r=0;r<c;r++)null!=(a=n[r])&&!(2&a.__u)&&(a.__e==s&&(s=z(a)),L(a,a));return s}function R(e,t,n,s){var o,r;if("function"==typeof e.type){for(o=e.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=e,t=R(o[r],t,n,s));return t}e.__e!=t&&(s&&(t&&e.type&&!t.parentNode&&(t=z(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function C(e,t,n,s){var o,r,i,a=e.key,l=e.type,u=t[n],c=null!=u&&!(2&u.__u);if(null===u&&null==e.key||c&&a==u.key&&l==u.type)return n;if(s>(c?1:0))for(o=n-1,r=n+1;o>=0||r<t.length;)if(null!=(u=t[i=o>=0?o--:r++])&&!(2&u.__u)&&a==u.key&&l==u.type)return i;return-1}function I(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||g.test(t)?n:n+"px"}function $(e,t,n,s,o){var r,i;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof s&&(e.style.cssText=s=""),s)for(t in s)n&&t in n||I(e.style,t,"");if(n)for(t in n)s&&n[t]==s[t]||I(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])r=t!=(t=t.replace(c,"$1")),i=t.toLowerCase(),t=i in e||"onFocusOut"==t||"onFocusIn"==t?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?s?n.u=s.u:(n.u=d,e.addEventListener(t,r?h:p,r)):e.removeEventListener(t,r?h:p,r);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function T(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=d++;else if(t.t<n.u)return;return n(o.event?o.event(t):t)}}}function E(e,t,n,s,r,i,a,l,u,c){var d,p,h,f,_,g,v,w,z,A,Q,q,N,R,C,I,$,T=t.type;if(null!=t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),i=[l=t.__e=n.__e]),(d=o.__b)&&d(t);e:if("function"==typeof T)try{if(w=t.props,z="prototype"in T&&T.prototype.render,A=(d=T.contextType)&&s[d.__c],Q=d?A?A.props.value:d.__:s,n.__c?v=(p=t.__c=n.__c).__=p.__E:(z?t.__c=p=new T(w,Q):(t.__c=p=new S(w,Q),p.constructor=T,p.render=U),A&&A.sub(p),p.props=w,p.state||(p.state={}),p.context=Q,p.__n=s,h=p.__d=!0,p.__h=[],p._sb=[]),z&&null==p.__s&&(p.__s=p.state),z&&null!=T.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=x({},p.__s)),x(p.__s,T.getDerivedStateFromProps(w,p.__s))),f=p.props,_=p.state,p.__v=t,h)z&&null==T.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),z&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(z&&null==T.getDerivedStateFromProps&&w!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,Q),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,Q)||t.__v==n.__v){for(t.__v!=n.__v&&(p.props=w,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),q=0;q<p._sb.length;q++)p.__h.push(p._sb[q]);p._sb=[],p.__h.length&&a.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,Q),z&&null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(f,_,g)})}if(p.context=Q,p.props=w,p.__P=e,p.__e=!1,N=o.__r,R=0,z){for(p.state=p.__s,p.__d=!1,N&&N(t),d=p.render(p.props,p.state,p.context),C=0;C<p._sb.length;C++)p.__h.push(p._sb[C]);p._sb=[]}else do{p.__d=!1,N&&N(t),d=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++R<25);p.state=p.__s,null!=p.getChildContext&&(s=x(x({},s),p.getChildContext())),z&&!h&&null!=p.getSnapshotBeforeUpdate&&(g=p.getSnapshotBeforeUpdate(f,_)),I=d,null!=d&&d.type===y&&null==d.key&&(I=M(d.props.children)),l=k(e,b(I)?I:[I],t,n,s,r,i,a,l,u,c),p.base=t.__e,t.__u&=-161,p.__h.length&&a.push(p),v&&(p.__E=p.__=null)}catch(e){if(t.__v=null,u||null!=i)if(e.then){for(t.__u|=u?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,t.__e=l}else{for($=i.length;$--;)m(i[$]);D(t)}else t.__e=n.__e,t.__k=n.__k,e.then||D(t);o.__e(e,t,n)}else null==i&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=O(n.__e,t,n,s,r,i,a,u,c);return(d=o.diffed)&&d(t),128&t.__u?void 0:l}function D(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(D)}function P(e,t,n){for(var s=0;s<n.length;s++)F(n[s],n[++s],n[++s]);o.__c&&o.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){o.__e(e,t.__v)}})}function M(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:b(e)?e.map(M):x({},e)}function O(e,t,n,r,i,a,l,u,c){var d,p,h,_,g,x,v,w=n.props,y=t.props,S=t.type;if("svg"==S?i="http://www.w3.org/2000/svg":"math"==S?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=a)for(d=0;d<a.length;d++)if((g=a[d])&&"setAttribute"in g==!!S&&(S?g.localName==S:3==g.nodeType)){e=g,a[d]=null;break}if(null==e){if(null==S)return document.createTextNode(y);e=document.createElementNS(i,S,y.is&&y),u&&(o.__m&&o.__m(t,a),u=!1),a=null}if(null==S)w===y||u&&e.data==y||(e.data=y);else{if(a=a&&s.call(e.childNodes),w=n.props||f,!u&&null!=a)for(w={},d=0;d<e.attributes.length;d++)w[(g=e.attributes[d]).name]=g.value;for(d in w)if(g=w[d],"children"==d);else if("dangerouslySetInnerHTML"==d)h=g;else if(!(d in y)){if("value"==d&&"defaultValue"in y||"checked"==d&&"defaultChecked"in y)continue;$(e,d,null,g,i)}for(d in y)g=y[d],"children"==d?_=g:"dangerouslySetInnerHTML"==d?p=g:"value"==d?x=g:"checked"==d?v=g:u&&"function"!=typeof g||w[d]===g||$(e,d,g,w[d],i);if(p)u||h&&(p.__html==h.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(h&&(e.innerHTML=""),k("template"==t.type?e.content:e,b(_)?_:[_],t,n,r,"foreignObject"==S?"http://www.w3.org/1999/xhtml":i,a,l,a?a[0]:n.__k&&z(n,0),u,c),null!=a)for(d=a.length;d--;)m(a[d]);u||(d="value","progress"==S&&null==x?e.removeAttribute("value"):null!=x&&(x!==e[d]||"progress"==S&&!x||"option"==S&&x!=w[d])&&$(e,d,x,w[d],i),d="checked",null!=v&&v!=e[d]&&$(e,d,v,w[d],i))}return e}function F(e,t,n){try{if("function"==typeof e){var s="function"==typeof e.__u;s&&e.__u(),s&&null==t||(e.__u=e(t))}else e.current=t}catch(e){o.__e(e,n)}}function L(e,t,n){var s,r;if(o.unmount&&o.unmount(e),(s=e.ref)&&(s.current&&s.current!=e.__e||F(s,null,t)),null!=(s=e.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){o.__e(e,t)}s.base=s.__P=null}if(s=e.__k)for(r=0;r<s.length;r++)s[r]&&L(s[r],t,n||"function"!=typeof e.type);n||m(e.__e),e.__c=e.__=e.__e=void 0}function U(e,t,n){return this.constructor(e,n)}s=_.slice,o={__e:function(e,t,n,s){for(var o,r,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((r=o.constructor)&&null!=r.getDerivedStateFromError&&(o.setState(r.getDerivedStateFromError(e)),i=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,s||{}),i=o.__d),i)return o.__E=o}catch(t){e=t}throw e}},r=0,S.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=x({},this.state),"function"==typeof e&&(e=e(x({},n),this.props)),e&&x(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),Q(this))},S.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Q(this))},S.prototype.render=y,i=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},q.__r=0,c=/(PointerCapture)$|Capture$/i,d=0,p=T(!1),h=T(!0);var j=n(72),B=n.n(j),H=n(825),W=n.n(H),Y=n(659),G=n.n(Y),K=n(56),V=n.n(K),J=n(540),X=n.n(J),Z=n(113),ee=n.n(Z),te=n(2),ne={};ne.styleTagTransform=ee(),ne.setAttributes=V(),ne.insert=G().bind(null,"head"),ne.domAPI=W(),ne.insertStyleElement=X(),B()(te.A,ne),te.A&&te.A.locals&&te.A.locals,function(e,t,n){var r,i,a,l;t==document&&(t=document.documentElement),o.__&&o.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],l=[],E(t,e=(!r&&n||t).__k=v(y,null,[e]),i||f,f,t.namespaceURI,!r&&n?[n]:i?null:t.firstChild?s.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r,l),P(a,e,l)}(v(class extends S{constructor(e){super(e),this.state={currentQuestionIndex:0,studentAnswers:[],answeredQuestions:0,totalQuestions:0,quizTitle:"",quizzes:[],showResults:!1,loading:!1,systemError:null,retryCount:0,isSubmitting:!1,results:{score:0,total:0,percentage:0,correctAnswers:0}},this.quizData=null,this.saveInterval=null,this.saveTimeout=null,this.translations={en:{question:"Question",of:"of",submitQuiz:"Submit Quiz",submitting:"Submitting...",retryQuiz:"Retry Quiz",quizResults:"Quiz Results",score:"Score",correctAnswers:"Correct answers",outOf:"out of",yourAnswer:"Your answer",correctAnswer:"Correct answer",noAnswer:"No answer",pleaseAnswerAll:"Please answer all questions before submitting",allQuestionsAnswered:"All questions answered. Ready to submit!",questionsCompleted:"questions completed",pleaseAnswer:"Please answer all questions",noQuizData:"No quiz data available",pluginNotInitialized:"Plugin not properly initialized"},ru:{question:"Ð’Ð¾Ð¿Ñ€Ð¾Ñ",of:"Ð¸Ð·",submitQuiz:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÐºÐ²Ð¸Ð·",submitting:"ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ°...",retryQuiz:"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑŒ ÐºÐ²Ð¸Ð·",quizResults:"Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ ÐºÐ²Ð¸Ð·Ð°",score:"Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚",correctAnswers:"ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²",outOf:"Ð¸Ð·",yourAnswer:"Ð’Ð°Ñˆ Ð¾Ñ‚Ð²ÐµÑ‚",correctAnswer:"ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚",noAnswer:"ÐÐµÑ‚ Ð¾Ñ‚Ð²ÐµÑ‚Ð°",pleaseAnswerAll:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¾Ñ‚Ð²ÐµÑ‚ÑŒÑ‚Ðµ Ð½Ð° Ð²ÑÐµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¿ÐµÑ€ÐµÐ´ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¾Ð¹",allQuestionsAnswered:"Ð’ÑÐµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¾Ñ‚Ð²ÐµÑ‡ÐµÐ½Ñ‹. Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ!",questionsCompleted:"Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð¾Ñ‚Ð²ÐµÑ‡ÐµÐ½Ð¾",pleaseAnswer:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¾Ñ‚Ð²ÐµÑ‚ÑŒÑ‚Ðµ Ð½Ð° Ð²ÑÐµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹",noQuizData:"Ð”Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ²Ð¸Ð·Ð° Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹",pluginNotInitialized:"ÐŸÐ»Ð°Ð³Ð¸Ð½ Ð½Ðµ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð´Ð¾Ð»Ð¶Ð½Ñ‹Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼"}},this.handleAnswerChange=this.handleAnswerChange.bind(this),this.submitQuiz=this.submitQuiz.bind(this),this.retryQuiz=this.retryQuiz.bind(this),this.saveState=this.saveState.bind(this),this.restoreState=this.restoreState.bind(this),this.getShuffledOptions=this.getShuffledOptions.bind(this),this.shouldShowProgress=this.shouldShowProgress.bind(this),this.shouldShowFeedback=this.shouldShowFeedback.bind(this),this.shouldShowQuestionNavigation=this.shouldShowQuestionNavigation.bind(this),this.shouldAllowRetry=this.shouldAllowRetry.bind(this),this.shouldShowCorrectAnswers=this.shouldShowCorrectAnswers.bind(this),this.canRetry=this.canRetry.bind(this)}t=(e,t={})=>{const n=$_bx.language()||"en";let s=this.translations[n]?.[e]||this.translations.en[e];return Object.keys(t).forEach(e=>{s=s.replace(`{${e}}`,t[e])}),s};getShuffledOptions=e=>{const t=$_bx.getSettings(),n=!1!==t?.shuffleOptions;if(console.log("ðŸ”€ Shuffle options check:",{questionIndex:e+1,shuffleOptions:n,settings:t}),!n)return console.log("ðŸ“‹ Using original order for question",e+1),this.state.quizzes[e].options;const s=this.getSeed(e),o=[...this.state.quizzes[e].options];console.log("ðŸ”€ Shuffling options for question",e+1,{original:o.map(e=>e.text),seed:s});const r=this.shuffleArray(o,s);return console.log("ðŸ”€ Shuffled options:",r.map(e=>e.text)),r};shouldShowProgress=()=>{const e=$_bx.getSettings(),t=!1!==e?.showProgress;return console.log("ðŸ“Š Progress bar check:",{showProgress:t,settings:e}),t};shouldShowFeedback=()=>{const e=$_bx.getSettings(),t=!1!==e?.showFeedback;return console.log("ðŸ’¬ Feedback check:",{showFeedback:t,settings:e}),t};shouldShowQuestionNavigation=()=>{const e=$_bx.getSettings(),t=!1!==e?.questionNavigation;return console.log("ðŸ§­ Question navigation check:",{questionNavigation:t,settings:e}),t};shouldAllowRetry=()=>{const e=$_bx.getSettings(),t=!1!==e?.allowRetry,n=e?.passingScore||0,s=this.state.results?.percentage||0,o=this.canRetry(),r=t&&s<n&&o;return console.log("ðŸ”„ Retry check:",{allowRetry:t,passingScore:n,currentPercentage:s,canRetryBasedOnLimit:o,shouldShow:r,settings:e}),r};shouldShowCorrectAnswers=()=>{const e=$_bx.getSettings(),t=!0===e?.showCorrectAnswers;return console.log("âœ… Correct answers check:",{showCorrectAnswers:t,settings:e}),t};canRetry=()=>{const e=$_bx.getSettings(),t=e?.maxRetries||0,n=this.state.retryCount||0;if(0===t)return!0;const s=n<t;return console.log("ðŸ”„ Retry limit check:",{maxRetries:t,currentRetries:n,canRetry:s,settings:e}),s};getSeed=e=>{const t=$_bx.getComponentID()||"default",n=(Date.now(),navigator.userAgent||"unknown"),s=$_bx.language()||"en",o=Math.random().toString(36).substring(2,15),r=performance.now(),i=`${t}_${s}_${e}_${o}_${r}_${n.slice(0,20)}`;console.log("ðŸŒ± Generating random seed for page load:",{questionIndex:e+1,componentId:t,language:s,randomComponent:o,sessionStart:Math.floor(r),seedString:i.slice(0,50)+"..."});let a=0;for(let e=0;e<i.length;e++)a=(a<<5)-a+i.charCodeAt(e),a&=a;return Math.abs(a)};shuffleArray=(e,t)=>{const n=[...e];let s=t;const o=()=>(s=(9301*s+49297)%233280,s/233280);for(let e=n.length-1;e>0;e--){const t=Math.floor(o()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n};componentDidMount(){$_bx.onReady(()=>{this.restoreState(),$_bx.event().on("before_submit",e=>{if(console.log("ðŸ”„ Before submit triggered:",{answeredQuestions:this.state.answeredQuestions,totalQuestions:this.state.totalQuestions,currentQuestionIndex:this.state.currentQuestionIndex}),this.state.answeredQuestions<this.state.totalQuestions){console.log("âŒ Validation failed: not all questions answered");const e=this.t("pleaseAnswerAll")||"Please answer all questions before submitting";return console.log("Showing error message:",e),void $_bx.showErrorMessage(e)}this.calculateResults(),e.state.currentQuestionIndex=this.state.currentQuestionIndex,e.state.studentAnswers=this.state.studentAnswers,e.state.answeredQuestions=this.state.answeredQuestions,e.state.totalQuestions=this.state.totalQuestions,e.state.quizTitle=this.state.quizTitle||"Smart Quiz",e.state.quizzes=this.state.quizzes,e.state.showResults=!0,e.state.results=this.state.results,e.state.lastSaved=Date.now(),e.state.submittedAt=(new Date).toISOString(),e.state.completed=!0,e.state.retryCount=this.state.retryCount||0,e.state.submitMeta={isDisabled:!0},console.log("âœ… Final state prepared for submission:",{currentQuestionIndex:e.state.currentQuestionIndex,answeredQuestions:e.state.answeredQuestions,completed:e.state.completed})})})}saveState=()=>{try{const e={currentQuestionIndex:this.state.currentQuestionIndex,studentAnswers:this.state.studentAnswers,answeredQuestions:this.state.answeredQuestions,totalQuestions:this.state.totalQuestions,quizTitle:this.state.quizTitle||"Smart Quiz",quizzes:this.state.quizzes,showResults:this.state.showResults,loading:this.state.loading,systemError:this.state.systemError,retryCount:this.state.retryCount||0,isSubmitting:this.state.isSubmitting||!1,results:this.state.results,lastSaved:Date.now(),timestamp:Date.now(),sessionId:$_bx.getComponentID(),submitMeta:{isDisabled:!0}};console.log("ðŸ’¾ Saving quiz state:",{currentQuestionIndex:e.currentQuestionIndex,currentQuestionDisplay:e.currentQuestionIndex+1,answeredQuestions:e.answeredQuestions,totalQuestions:e.totalQuestions,showResults:e.showResults,hasAnswers:e.studentAnswers&&e.studentAnswers.some(e=>-1!==e),answersSnapshot:e.studentAnswers?e.studentAnswers.map((e,t)=>-1!==e?`${t+1}:âœ“`:`${t+1}:â—‹`).join(", "):"none",timestamp:(new Date).toLocaleTimeString()}),$_bx.saveUserState(e).then(()=>{console.log("âœ… Quiz user state saved successfully")}).catch(e=>{console.error("âŒ Failed to save quiz user state:",e)})}catch(e){console.error("âŒ Error preparing quiz user state:",e)}};restoreState=()=>{try{console.log("=== STARTING STATE RESTORATION ===");const e=$_bx.get("quizTitle"),t=$_bx.get("quizzes"),n=$_bx.getState();if(console.log("ðŸ” Raw data from $_bx:",{savedQuizTitle:e,savedQuizzes:t,savedState:n,savedStateType:typeof n,savedStateKeys:n?Object.keys(n):"no state"}),n&&"object"==typeof n&&console.log("ðŸ“Š Detailed saved state:",{currentQuestionIndex:n.currentQuestionIndex,answeredQuestions:n.answeredQuestions,totalQuestions:n.totalQuestions,studentAnswers:n.studentAnswers,studentAnswersLength:n.studentAnswers?n.studentAnswers.length:0,showResults:n.showResults,lastSaved:n.lastSaved?new Date(n.lastSaved).toLocaleString():"never"}),console.log("Available data:",{savedQuizTitle:!!e,savedQuizzes:t?t.length:0,savedState:!!n,savedStateKeys:n?Object.keys(n):[]}),e&&t&&t.length>0)if(this.quizData={quizTitle:e||"Smart Quiz",quizzes:t},n){console.log("Saved state details:",{currentQuestionIndex:n.currentQuestionIndex,answeredQuestions:n.answeredQuestions,studentAnswers:n.studentAnswers?n.studentAnswers.length:0,showResults:n.showResults,hasAnswers:n.studentAnswers&&n.studentAnswers.some(e=>-1!==e)});let s=0;if("number"==typeof n.currentQuestionIndex&&n.currentQuestionIndex>=0&&n.currentQuestionIndex<t.length)s=n.currentQuestionIndex,console.log("âœ… Using saved currentQuestionIndex:",s);else if(console.log("âš ï¸ Saved currentQuestionIndex invalid, calculating new one"),n.studentAnswers&&n.studentAnswers.length>0){const e=n.studentAnswers.filter(e=>-1!==e).length,o=t.length;if(e===o)s=o-1,console.log("ðŸŽ¯ All questions answered, staying on last question");else{const e=n.studentAnswers.findIndex(e=>-1===e);s=-1!==e?e:0,console.log("ðŸ” Found first unanswered question:",s)}}else console.log("ðŸ“ No saved answers, starting from first question"),s=0;console.log("Calculated currentQuestionIndex:",s),this.setState({currentQuestionIndex:s,studentAnswers:n.studentAnswers||new Array(t.length).fill(-1),answeredQuestions:n.answeredQuestions||0,totalQuestions:t.length,quizTitle:e||"Smart Quiz",quizzes:t,showResults:n.showResults||!1,loading:n.loading||!1,systemError:n.systemError||null,retryCount:n.retryCount||0,isSubmitting:n.isSubmitting||!1,results:n.results||{score:0,total:0,percentage:0,correctAnswers:0}}),console.log("âœ… Quiz state restored from saved data. Current question:",s+1)}else console.log("No saved user state found, initializing fresh state"),this.setState({currentQuestionIndex:0,totalQuestions:t.length,quizTitle:e||"Smart Quiz",quizzes:t,studentAnswers:new Array(t.length).fill(-1),answeredQuestions:0,showResults:!1,loading:!1,systemError:null,retryCount:0,isSubmitting:!1,results:{score:0,total:0,percentage:0,correctAnswers:0}}),console.log("âœ… Quiz initialized with fresh state");else console.log("âŒ No quiz data found"),this.setState({showResults:!1})}catch(e){console.error("âŒ Error restoring quiz state:",e),this.setState({showResults:!1,systemError:`State restoration failed: ${e.message}`})}};handleAnswerChange=(e,t)=>{if(this.state.isSubmitting)return void console.log("ðŸš« Answer selection blocked during submission");const{studentAnswers:n,answeredQuestions:s,totalQuestions:o,currentQuestionIndex:r}=this.state,i=-1===n[e];console.log("ðŸ“ Answer changed:",{questionIndex:e+1,optionIndex:t,wasUnanswered:i,previousAnswers:s,currentQuestionIndex:r+1});const a=[...n];a[e]=t;const l=i?s+1:s;this.setState({studentAnswers:a,answeredQuestions:l},()=>{console.log("ðŸ“ State updated after answer:",{newAnsweredQuestions:l,totalQuestions:o,allAnswered:l===o,currentQuestionIndex:this.state.currentQuestionIndex+1}),l===o?(console.log("ðŸŽ¯ All questions answered, submitting to system"),this.submitToSystem()):(console.log("âž¡ï¸ Going to next question"),this.goToNextQuestion())})};goToNextQuestion=()=>{const{currentQuestionIndex:e,totalQuestions:t,studentAnswers:n}=this.state;console.log("ðŸ”„ Finding next question:",{current:e+1,answers:n.map((e,t)=>-1!==e?`${t+1}:âœ“`:`${t+1}:â—‹`).join(" ")});let s=e+1;for(;s<t&&-1!==n[s];)s++;s>=t&&(s=n.findIndex(e=>-1===e),console.log("ðŸ”„ No next unanswered, going to first unanswered:",-1!==s?s+1:"none found"),-1===s)?console.log("ðŸŽ¯ All questions answered, staying on current question"):-1!==s&&s!==e?(console.log("âž¡ï¸ Moving to question:",s+1),this.setState({currentQuestionIndex:s},()=>{this.saveState()})):console.log("âš ï¸ No valid next question found or already at target question")};submitToSystem=()=>{this.setState({loading:!0}),this.setState({isSubmitting:!0}),this.calculateResults(),setTimeout(()=>{$_bx.answerSubmit().then(e=>{console.log("Answer submitted to system:",e)}).catch(e=>{console.error("Error submitting answer to system:",e),this.setState({loading:!1,systemError:e.message||"Failed to submit answer"}),this.saveState()})},100)};submitQuiz=()=>{this.calculateResults(),this.setState({showResults:!0},()=>{this.saveState()})};calculateResults=()=>{const{studentAnswers:e,quizzes:t}=this.state;let n=0;const s=t.length;console.log("ðŸ§® Calculating results:",{studentAnswers:e,quizzes:t.map(e=>({correctAnswer:e.correctAnswer})),totalQuestions:s}),t.forEach((t,s)=>{const o=e[s],r=t.correctAnswer,i=o===r;console.log(`Question ${s+1}:`,{userAnswer:o,correctAnswer:r,isCorrect:i}),i&&n++});const o=Math.round(n/s*100);console.log("ðŸ“Š Final calculation:",{correctAnswers:n,totalQuestions:s,percentage:o,score:`${n}/${s}`}),this.setState({results:{score:`${n}/${s}`,total:s,percentage:o,correctAnswers:n}})};retryQuiz=()=>{const e=(this.state.retryCount||0)+1;console.log("ðŸ”„ Retrying quiz:",{previousRetryCount:this.state.retryCount||0,newRetryCount:e}),this.setState({currentQuestionIndex:0,studentAnswers:new Array(this.state.totalQuestions).fill(-1),answeredQuestions:0,showResults:!1,loading:!1,systemError:null,retryCount:e,isSubmitting:!1,results:{score:0,total:0,percentage:0,correctAnswers:0}}),this.saveState()};render(){console.log("=== RENDER METHOD CALLED ===");try{const{currentQuestionIndex:e,studentAnswers:t,answeredQuestions:n,totalQuestions:s,quizTitle:o,quizzes:r,showResults:i,loading:a,systemError:l,results:u}=this.state;return console.log("ðŸ“Š Render state:",{currentQuestionIndex:e+1,totalQuestions:s,answeredQuestions:n,quizzesLength:r?r.length:0,showResults:i,loading:a,systemError:!!l,answersStatus:t?t.map((e,t)=>-1!==e?`${t+1}:âœ“`:`${t+1}:â—‹`).join(" "):"no answers"}),r&&0!==r.length?i?(console.log("Showing results screen"),this.renderResults()):(console.log("Showing quiz interface directly"),this.renderQuiz()):(console.log("No quizzes available, showing error"),v("div",{className:"view-container"},v("div",{className:"error-message"},this.t("noQuizData"))))}catch(e){return console.error("Error in render method:",e),v("div",{className:"view-container"},v("div",{className:"error-message"},"Error in render method: ",e.message))}}renderQuiz=()=>{const{currentQuestionIndex:e,studentAnswers:t,answeredQuestions:n,totalQuestions:s,quizzes:o,systemError:r,loading:i}=this.state,a=o[e];return v("div",{className:"view-container"},v("div",{className:"quiz-header"},v("h1",{className:"quiz-title"},this.state.quizTitle||"Smart Quiz"),v("div",{className:"progress-info"},this.t("question")," ",e+1," ",this.t("of")," ",s),this.shouldShowProgress()&&v("div",{className:"progress-bar"},v("div",{className:"progress-fill",style:{width:n/s*100+"%"}}))),v("div",{className:"question-card"},v("div",{className:"question-header"},v("span",{className:"question-number"},e+1),v("div",{className:"question-text"},a.question)),v("div",{className:"options-list"},this.getShuffledOptions(e).map((n,s)=>{const o=a.options.findIndex(e=>e.text===n.text);return v("label",{key:s,className:`option-label ${t[e]===o?"selected":""} ${this.state.isSubmitting?"disabled":""}`},v("input",{type:"radio",name:`question_${e}`,value:o,checked:t[e]===o,onChange:()=>this.handleAnswerChange(e,o),className:"option-input",disabled:this.state.isSubmitting}),v("span",{className:"option-text"},n.text))}))),this.shouldShowQuestionNavigation()&&v("div",{className:"question-navigation"},o.map((n,s)=>{const o=e===s,r=-1!==t[s],i=s>0&&-1!==t[s-1],a=0===s,l=o||r||i&&-1===t[s]||a;return v("button",{key:s,className:`question-nav-btn ${o?"active":""} ${r?"answered":""} ${l?"":"disabled"}`,disabled:!l,onClick:l?()=>this.setState({currentQuestionIndex:s},()=>this.saveState()):void 0},s+1)})),v("div",{className:"submit-section"},v("div",{className:"submit-info"},n===s?this.t("allQuestionsAnswered"):`${this.t("pleaseAnswer")} (${n}/${s} ${this.t("questionsCompleted")})`),r&&v("div",{className:"system-error"},v("strong",null,"System Error:")," ",r),i&&v("div",{className:"loading-state"},v("div",{className:"loading-spinner"}),v("span",null,"Submitting to system..."))))};renderResults=()=>{const{results:e,quizzes:t,studentAnswers:n,retryCount:s}=this.state;return console.log("ðŸŽ¯ Rendering results:",{results:e,studentAnswers:n,retryCount:s,quizzes:t.map(e=>({correctAnswer:e.correctAnswer}))}),v("div",{className:"view-container"},v("div",{className:"results-screen"},v("h1",{className:"results-title"},this.t("quizResults")),v("div",{className:"results-score"},e.score),v("div",{className:"results-percentage"},e.percentage,"%"),s>0&&v("div",{className:"retry-info"},"Attempt ",s+1),this.shouldShowFeedback()&&v("div",{className:"results-details"},t.map((e,t)=>{const s=n[t],o=s===e.correctAnswer,r=-1!==s?e.options[s].text:this.t("noAnswer"),i=e.options[e.correctAnswer].text;return v("div",{key:t,className:"question-result "+(o?"correct":"incorrect")},v("div",{className:"question-result-title"},v("span",{className:"result-icon"},o?"âœ“":"âœ—"),this.t("question")," ",t+1),v("div",{className:"question-result-text"},e.question),v("div",{className:"answer-info"},v("span",{className:"answer-label"},this.t("yourAnswer"),":"),v("span",{className:"answer-text "+(o?"correct":"user")},r),!o&&this.shouldShowCorrectAnswers()&&v(y,null,v("br",null),v("span",{className:"answer-label"},this.t("correctAnswer"),":"),v("span",{className:"answer-text correct"},i))))})),this.shouldAllowRetry()&&v("button",{className:"retry-button",onClick:this.retryQuiz},this.t("retryQuiz"))))}},null),document.querySelector("#root"))})();</script>