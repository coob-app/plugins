<div id="root"></div><script defer="defer">(()=>{"use strict";var e={56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var i={},s=[],a=0;a<e.length;a++){var l=e[a],u=o.base?l[0]+o.base:l[0],c=i[u]||0,p="".concat(u," ").concat(c);i[u]=c+1;var d=t(p),_={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)n[d].references++,n[d].updater(_);else{var f=r(_,o);o.byIndex=a,n.splice(a,0,{identifier:p,updater:f,references:1})}s.push(p)}return s}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=t(i[s]);n[a].references--}for(var l=o(e,r),u=0;u<i.length;u++){var c=t(i[u]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}i=l}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);o&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),n.push(c))}},n}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},912:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(601),r=t.n(o),i=t(314),s=t.n(i)()(r());s.push([e.id,".edit-container {\n    margin: 0 auto;\n    color: var(--bx-text-color, #333);\n}\n\n.form-section {\n    margin-bottom: 20px;\n}\n\n.form-group {\n    margin-bottom: 16px;\n}\n\n\n\n.form-hint {\n    font-size: 0.85rem;\n    color: var(--bx-hint-color, #666);\n    margin-bottom: 8px;\n    font-style: italic;\n}\n\n\n.options-list {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    margin-bottom: 12px;\n    height: 180px;\n    overflow-y: auto;\n    padding: 10px;\n    background: var(--bx-secondary-background-color, #fff);\n    border-radius: 12px;\n}\n\n.option-item {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 10px;\n    background: var(--bx-background-color, #fff);\n    border-radius: 12px;\n    border: 1px solid var(--bx-border-color, #dee2e6);\n    flex-shrink: 0;\n}\n\n.correct-radio {\n    width: 18px;\n    height: 18px;\n    cursor: pointer;\n    flex-shrink: 0;\n}\n\n/* Стили для bx-form-input внутри option-item */\n.option-item .bx-form-input {\n    flex: 1;\n    margin-right: 8px;\n}\n\n/* Стили для ошибок валидации */\n.validation-errors {\n    margin-bottom: 20px;\n    padding: 16px;\n    background: var(--bx-danger-light-bg, #f8d7da);\n    border: 1px solid var(--bx-danger-color, #dc3545);\n    border-radius: 8px;\n}\n\n.validation-errors h3 {\n    margin: 0 0 12px 0;\n    color: var(--bx-danger-color, #dc3545);\n    font-size: 1.1rem;\n    font-weight: 600;\n}\n\n.validation-errors ul {\n    margin: 0;\n    padding-left: 20px;\n}\n\n.validation-errors li {\n    margin-bottom: 8px;\n    color: var(--bx-danger-color, #dc3545);\n    font-size: 0.9rem;\n    line-height: 1.4;\n}\n\n.error-item {\n    font-weight: 500;\n}\n\n.error-noCorrectAnswer {\n    color: var(--bx-danger-color, #dc3545);\n}\n\n.error-insufficientOptions {\n    color: var(--bx-warning-color, #ffc107);\n}\n\n.error-emptyOption {\n    color: var(--bx-danger-color, #dc3545);\n}\n\n.error-emptyQuestion {\n    color: var(--bx-danger-color, #dc3545);\n}\n\n\n\n.remove-option-btn {\n    background: var(--bx-danger-color, #dc3545);\n    color: var(--bx-button-text-color, #fff);\n    border: none;\n    border-radius: 4px;\n    width: 28px;\n    height: 28px;\n    cursor: pointer;\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    transition: background-color 0.2s ease;\n}\n\n.remove-option-btn:hover {\n    background: var(--bx-danger-hover-color, #c82333);\n}\n\n.correct-indicator {\n    font-size: 0.85rem;\n    color: var(--bx-success-color, #28a745);\n    font-weight: 600;\n    flex-shrink: 0;\n}\n\n.add-option-btn {\n    background: var(--bx-button-color, #28a745);\n    color: var(--bx-button-text-color, #fff);\n    border: none;\n    border-radius: 6px;\n    padding: 8px 14px;\n    font-size: 0.9rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: background-color 0.2s ease;\n}\n\n.add-option-btn:hover {\n    background: var(--bx-button-color, #218838);\n}\n\n/* Quiz Navigation */\n.quiz-navigation {\n    margin-bottom: 20px;\n    padding: 12px;\n    border-radius: 8px;\n}\n\n.quiz-tabs {\n    display: flex;\n    gap: 6px;\n    margin-bottom: 12px;\n    flex-wrap: wrap;\n}\n\n.quiz-tab {\n    position: relative;\n    color: var(--bx-text-color, #333);\n    background: var(--bx-background-color, #fff);\n    border: 2px solid var(--bx-hint-color, #666);\n    border-radius: 6px;\n    padding: 6px 12px;\n    font-size: 0.85rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    min-width: 70px;\n    text-align: center;\n}\n\n.quiz-tab:hover {\n    border-color: var(--bx-button-color, #007bff);\n    background: var(--bx-button-color, #e3f2fd);\n    color: var(--bx-button-text-color, #fff);\n}\n\n.quiz-tab.active {\n    border-color: var(--bx-button-color, #007bff);\n    background: var(--bx-button-color, #e3f2fd);\n    color: var(--bx-button-text-color, #fff);\n}\n\n.remove-quiz-btn {\n    position: absolute;\n    top: -6px;\n    right: -6px;\n    background: var(--bx-danger-color, #dc3545);\n    color: var(--bx-button-text-color, #fff);\n    border: none;\n    border-radius: 50%;\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    font-size: 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: background-color 0.2s ease;\n}\n\n.remove-quiz-btn:hover {\n    background: var(--bx-danger-hover-color, #c82333);\n}\n\n.add-quiz-btn {\n    background: var(--bx-button-color, #28a745);\n    color: var(--bx-button-text-color, #fff);\n    border: none;\n    border-radius: 6px;\n    padding: 6px 12px;\n    font-size: 0.85rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: background-color 0.2s ease;\n}\n\n.add-quiz-btn:hover {\n    background: var(--bx-button-color, #218838);\n}\n\n\n\n/* Custom scrollbar for options list */\n.options-list::-webkit-scrollbar {\n    width: 8px;\n}\n\n.options-list::-webkit-scrollbar-track {\n    background: var(--bx-light-bg-color, #f1f1f1);\n    border-radius: 4px;\n}\n\n.options-list::-webkit-scrollbar-thumb {\n    background: var(--bx-border-color, #c1c1c1);\n    border-radius: 4px;\n}\n\n.options-list::-webkit-scrollbar-thumb:hover {\n    background: var(--bx-text-color, #a8a8a8);\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n    .edit-container {\n    }\n\n\n\n    .quiz-tabs {\n        gap: 6px;\n    }\n\n    .quiz-tab {\n        padding: 6px 12px;\n        font-size: 0.85rem;\n        min-width: 70px;\n    }\n\n\n\n    .option-item {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 8px;\n    }\n\n\n}\n\n@media (max-width: 480px) {\n    .edit-container {\n        padding: 12px;\n    }\n\n\n\n    .quiz-navigation {\n        padding: 12px;\n    }\n\n    .quiz-tabs {\n        gap: 4px;\n    }\n\n    .quiz-tab {\n        padding: 4px 8px;\n        font-size: 0.8rem;\n        min-width: 60px;\n    }\n\n\n\n    .form-textarea {\n        font-size: 0.95rem;\n    }\n}\n\n/* Import Section Styles - Compact */\n.import-section {\n    margin-bottom: 20px;\n    padding: 8px 0;\n    border-bottom: 1px solid var(--bx-border-color, #e1e5e9);\n}\n\n.import-content {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.import-text {\n    color: var(--bx-hint-color, #666);\n    font-size: 0.9rem;\n    font-weight: 500;\n}\n\n.import-buttons {\n    display: flex;\n    gap: 8px;\n}\n\n.download-example-btn,\n.import-file-btn {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    width: 32px;\n    height: 32px;\n    background: var(--bx-secondary-background-color, #f8f9fa);\n    color: var(--bx-text-color, #333);\n    border: 2px solid var(--bx-hint-color, #dee2e6);\n    border-radius: 6px;\n    cursor: pointer;\n    font-size: 16px;\n    transition: all 0.2s ease;\n    text-decoration: none;\n}\n\n.download-example-btn {\n    text-decoration: none;\n}\n\n.download-example-btn:hover,\n.import-file-btn:hover {\n    background: var(--bx-primary-color, #007bff);\n    color: white;\n    border-color: var(--bx-primary-color, #007bff);\n    transform: translateY(-1px);\n}\n\n.import-file-btn:hover {\n    background: var(--bx-success-color, #28a745);\n    border-color: var(--bx-success-color, #28a745);\n}\n\n/* Responsive design for import section */\n@media (max-width: 768px) {\n    .import-buttons {\n        gap: 6px;\n    }\n    \n    .download-example-btn,\n    .import-file-btn {\n        width: 28px;\n        height: 28px;\n        font-size: 14px;\n    }\n}\n",""]);const a=s}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={id:o,exports:{}};return e[o](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0;var o,r,i,s,a,l,u,c,p,d,_,f={},h=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,b=Array.isArray;function x(e,n){for(var t in n)e[t]=n[t];return e}function g(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function v(e,n,t){var r,i,s,a={};for(s in n)"key"==s?r=n[s]:"ref"==s?i=n[s]:a[s]=n[s];if(arguments.length>2&&(a.children=arguments.length>3?o.call(arguments,2):t),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return z(e,a,r,i,null)}function z(e,n,t,o,s){var a={type:e,props:n,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==s?++i:s,__i:-1,__u:0};return null==s&&null!=r.vnode&&r.vnode(a),a}function y(e){return e.children}function w(e,n){this.props=e,this.context=n}function k(e,n){if(null==n)return e.__?k(e.__,e.__i+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?k(e):null}function q(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return q(e)}}function Q(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!S.__r++||a!=r.debounceRendering)&&((a=r.debounceRendering)||l)(S)}function S(){for(var e,n,t,o,i,a,l,c=1;s.length;)s.length>c&&s.sort(u),e=s.shift(),c=s.length,e.__d&&(t=void 0,i=(o=(n=e).__v).__e,a=[],l=[],n.__P&&((t=x({},o)).__v=o.__v+1,r.vnode&&r.vnode(t),O(n.__P,t,o,n.__n,n.__P.namespaceURI,32&o.__u?[i]:null,a,null==i?k(o):i,!!(32&o.__u),l),t.__v=o.__v,t.__.__k[t.__i]=t,P(a,t,l),t.__e!=i&&q(t)));S.__r=0}function C(e,n,t,o,r,i,s,a,l,u,c){var p,d,_,m,b,x,g,v=o&&o.__k||h,z=n.length;for(l=T(t,n,v,l,z),p=0;p<z;p++)null!=(_=t.__k[p])&&(d=-1==_.__i?f:v[_.__i]||f,_.__i=p,x=O(e,_,d,r,i,s,a,l,u,c),m=_.__e,_.ref&&d.ref!=_.ref&&(d.ref&&U(d.ref,null,_),c.push(_.ref,_.__c||m,_)),null==b&&null!=m&&(b=m),(g=!!(4&_.__u))||d.__k===_.__k?l=N(_,l,e,g):"function"==typeof _.type&&void 0!==x?l=x:m&&(l=m.nextSibling),_.__u&=-7);return t.__e=b,l}function T(e,n,t,o,r){var i,s,a,l,u,c=t.length,p=c,d=0;for(e.__k=new Array(r),i=0;i<r;i++)null!=(s=n[i])&&"boolean"!=typeof s&&"function"!=typeof s?(l=i+d,(s=e.__k[i]="string"==typeof s||"number"==typeof s||"bigint"==typeof s||s.constructor==String?z(null,s,null,null,null):b(s)?z(y,{children:s},null,null,null):null==s.constructor&&s.__b>0?z(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,a=null,-1!=(u=s.__i=I(s,t,l,p))&&(p--,(a=t[u])&&(a.__u|=2)),null==a||null==a.__v?(-1==u&&(r>c?d--:r<c&&d++),"function"!=typeof s.type&&(s.__u|=4)):u!=l&&(u==l-1?d--:u==l+1?d++:(u>l?d--:d++,s.__u|=4))):e.__k[i]=null;if(p)for(i=0;i<c;i++)null!=(a=t[i])&&!(2&a.__u)&&(a.__e==o&&(o=k(a)),L(a,a));return o}function N(e,n,t,o){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,n=N(r[i],n,t,o));return n}e.__e!=n&&(o&&(n&&e.type&&!n.parentNode&&(n=k(e)),t.insertBefore(e.__e,n||null)),n=e.__e);do{n=n&&n.nextSibling}while(null!=n&&8==n.nodeType);return n}function I(e,n,t,o){var r,i,s,a=e.key,l=e.type,u=n[t],c=null!=u&&!(2&u.__u);if(null===u&&null==e.key||c&&a==u.key&&l==u.type)return t;if(o>(c?1:0))for(r=t-1,i=t+1;r>=0||i<n.length;)if(null!=(u=n[s=r>=0?r--:i++])&&!(2&u.__u)&&a==u.key&&l==u.type)return s;return-1}function A(e,n,t){"-"==n[0]?e.setProperty(n,null==t?"":t):e[n]=null==t?"":"number"!=typeof t||m.test(n)?t:t+"px"}function $(e,n,t,o,r){var i,s;e:if("style"==n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(n in o)t&&n in t||A(e.style,n,"");if(t)for(n in t)o&&t[n]==o[n]||A(e.style,n,t[n])}else if("o"==n[0]&&"n"==n[1])i=n!=(n=n.replace(c,"$1")),s=n.toLowerCase(),n=s in e||"onFocusOut"==n||"onFocusIn"==n?s.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+i]=t,t?o?t.u=o.u:(t.u=p,e.addEventListener(n,i?_:d,i)):e.removeEventListener(n,i?_:d,i);else{if("http://www.w3.org/2000/svg"==r)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=n&&"height"!=n&&"href"!=n&&"list"!=n&&"form"!=n&&"tabIndex"!=n&&"download"!=n&&"rowSpan"!=n&&"colSpan"!=n&&"role"!=n&&"popover"!=n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null==t||!1===t&&"-"!=n[4]?e.removeAttribute(n):e.setAttribute(n,"popover"==n&&1==t?"":t))}}function E(e){return function(n){if(this.l){var t=this.l[n.type+e];if(null==n.t)n.t=p++;else if(n.t<t.u)return;return t(r.event?r.event(n):n)}}}function O(e,n,t,o,i,s,a,l,u,c){var p,d,_,f,h,m,v,z,k,q,Q,S,T,N,I,A,$,E=n.type;if(null!=n.constructor)return null;128&t.__u&&(u=!!(32&t.__u),s=[l=n.__e=t.__e]),(p=r.__b)&&p(n);e:if("function"==typeof E)try{if(z=n.props,k="prototype"in E&&E.prototype.render,q=(p=E.contextType)&&o[p.__c],Q=p?q?q.props.value:p.__:o,t.__c?v=(d=n.__c=t.__c).__=d.__E:(k?n.__c=d=new E(z,Q):(n.__c=d=new w(z,Q),d.constructor=E,d.render=R),q&&q.sub(d),d.props=z,d.state||(d.state={}),d.context=Q,d.__n=o,_=d.__d=!0,d.__h=[],d._sb=[]),k&&null==d.__s&&(d.__s=d.state),k&&null!=E.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=x({},d.__s)),x(d.__s,E.getDerivedStateFromProps(z,d.__s))),f=d.props,h=d.state,d.__v=n,_)k&&null==E.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),k&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(k&&null==E.getDerivedStateFromProps&&z!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(z,Q),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(z,d.__s,Q)||n.__v==t.__v){for(n.__v!=t.__v&&(d.props=z,d.state=d.__s,d.__d=!1),n.__e=t.__e,n.__k=t.__k,n.__k.some(function(e){e&&(e.__=n)}),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(z,d.__s,Q),k&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(f,h,m)})}if(d.context=Q,d.props=z,d.__P=e,d.__e=!1,T=r.__r,N=0,k){for(d.state=d.__s,d.__d=!1,T&&T(n),p=d.render(d.props,d.state,d.context),I=0;I<d._sb.length;I++)d.__h.push(d._sb[I]);d._sb=[]}else do{d.__d=!1,T&&T(n),p=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++N<25);d.state=d.__s,null!=d.getChildContext&&(o=x(x({},o),d.getChildContext())),k&&!_&&null!=d.getSnapshotBeforeUpdate&&(m=d.getSnapshotBeforeUpdate(f,h)),A=p,null!=p&&p.type===y&&null==p.key&&(A=D(p.props.children)),l=C(e,b(A)?A:[A],n,t,o,i,s,a,l,u,c),d.base=n.__e,n.__u&=-161,d.__h.length&&a.push(d),v&&(d.__E=d.__=null)}catch(e){if(n.__v=null,u||null!=s)if(e.then){for(n.__u|=u?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,n.__e=l}else{for($=s.length;$--;)g(s[$]);M(n)}else n.__e=t.__e,n.__k=t.__k,e.then||M(n);r.__e(e,n,t)}else null==s&&n.__v==t.__v?(n.__k=t.__k,n.__e=t.__e):l=n.__e=F(t.__e,n,t,o,i,s,a,u,c);return(p=r.diffed)&&p(n),128&n.__u?void 0:l}function M(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(M)}function P(e,n,t){for(var o=0;o<t.length;o++)U(t[o],t[++o],t[++o]);r.__c&&r.__c(n,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(e){e.call(n)})}catch(e){r.__e(e,n.__v)}})}function D(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:b(e)?e.map(D):x({},e)}function F(e,n,t,i,s,a,l,u,c){var p,d,_,h,m,x,v,z=t.props,y=n.props,w=n.type;if("svg"==w?s="http://www.w3.org/2000/svg":"math"==w?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),null!=a)for(p=0;p<a.length;p++)if((m=a[p])&&"setAttribute"in m==!!w&&(w?m.localName==w:3==m.nodeType)){e=m,a[p]=null;break}if(null==e){if(null==w)return document.createTextNode(y);e=document.createElementNS(s,w,y.is&&y),u&&(r.__m&&r.__m(n,a),u=!1),a=null}if(null==w)z===y||u&&e.data==y||(e.data=y);else{if(a=a&&o.call(e.childNodes),z=t.props||f,!u&&null!=a)for(z={},p=0;p<e.attributes.length;p++)z[(m=e.attributes[p]).name]=m.value;for(p in z)if(m=z[p],"children"==p);else if("dangerouslySetInnerHTML"==p)_=m;else if(!(p in y)){if("value"==p&&"defaultValue"in y||"checked"==p&&"defaultChecked"in y)continue;$(e,p,null,m,s)}for(p in y)m=y[p],"children"==p?h=m:"dangerouslySetInnerHTML"==p?d=m:"value"==p?x=m:"checked"==p?v=m:u&&"function"!=typeof m||z[p]===m||$(e,p,m,z[p],s);if(d)u||_&&(d.__html==_.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),n.__k=[];else if(_&&(e.innerHTML=""),C("template"==n.type?e.content:e,b(h)?h:[h],n,t,i,"foreignObject"==w?"http://www.w3.org/1999/xhtml":s,a,l,a?a[0]:t.__k&&k(t,0),u,c),null!=a)for(p=a.length;p--;)g(a[p]);u||(p="value","progress"==w&&null==x?e.removeAttribute("value"):null!=x&&(x!==e[p]||"progress"==w&&!x||"option"==w&&x!=z[p])&&$(e,p,x,z[p],s),p="checked",null!=v&&v!=e[p]&&$(e,p,v,z[p],s))}return e}function U(e,n,t){try{if("function"==typeof e){var o="function"==typeof e.__u;o&&e.__u(),o&&null==n||(e.__u=e(n))}else e.current=n}catch(e){r.__e(e,t)}}function L(e,n,t){var o,i;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||U(o,null,n)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,n)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&L(o[i],n,t||"function"!=typeof e.type);t||g(e.__e),e.__c=e.__=e.__e=void 0}function R(e,n,t){return this.constructor(e,t)}o=h.slice,r={__e:function(e,n,t,o){for(var r,i,s;n=n.__;)if((r=n.__c)&&!r.__)try{if((i=r.constructor)&&null!=i.getDerivedStateFromError&&(r.setState(i.getDerivedStateFromError(e)),s=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,o||{}),s=r.__d),s)return r.__E=r}catch(n){e=n}throw e}},i=0,w.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=x({},this.state),"function"==typeof e&&(e=e(x({},t),this.props)),e&&x(t,e),null!=e&&this.__v&&(n&&this._sb.push(n),Q(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Q(this))},w.prototype.render=y,s=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,n){return e.__v.__b-n.__v.__b},S.__r=0,c=/(PointerCapture)$|Capture$/i,p=0,d=E(!1),_=E(!0);var W=t(72),j=t.n(W),H=t(825),B=t.n(H),J=t(659),V=t.n(J),Y=t(56),G=t.n(Y),K=t(540),X=t.n(K),Z=t(113),ee=t.n(Z),ne=t(912),te={};te.styleTagTransform=ee(),te.setAttributes=G(),te.insert=V().bind(null,"head"),te.domAPI=B(),te.insertStyleElement=X(),j()(ne.A,te),ne.A&&ne.A.locals&&ne.A.locals,function(e,n,t){var i,s,a,l;n==document&&(n=document.documentElement),r.__&&r.__(e,n),s=(i="function"==typeof t)?null:t&&t.__k||n.__k,a=[],l=[],O(n,e=(!i&&t||n).__k=v(y,null,[e]),s||f,f,n.namespaceURI,!i&&t?[t]:s?null:n.firstChild?o.call(n.childNodes):null,a,!i&&t?t:s?s.__e:n.firstChild,i,l),P(a,e,l)}(v(class extends w{constructor(){super(),this.handleFileImport=this.handleFileImport.bind(this),this.state={quizTitle:"",quizzes:[{id:1,question:"",options:[{text:""},{text:""}],correctAnswer:-1}],currentQuizIndex:0,totalQuizzes:1,messages:{en:{quizTitle:"Quiz Title",question:"Question",answerOptions:"Answer Options (Select the correct answer using the radio buttons)",addOption:"Add Option",addQuiz:"Add Quiz",enterQuizTitle:"Enter quiz title...",enterQuestion:"Enter your question here...",enterOption:"Option",noCorrectAnswer:"Please select a correct answer",insufficientOptions:"At least 2 options are required",emptyOption:"Option text cannot be empty",emptyQuestion:"Question text cannot be empty",importSection:"Import Questions",downloadExample:"Download Example",importFile:"Import File",importDescription:"Import questions from a text file using the specified format"},ru:{quizTitle:"Название квиза",question:"Вопрос",answerOptions:"Варианты ответов (Выберите правильный ответ с помощью радиокнопок)",addOption:"Добавить вариант",addQuiz:"Добавить квиз",enterQuizTitle:"Введите название квиза...",enterQuestion:"Введите ваш вопрос здесь...",enterOption:"Вариант",noCorrectAnswer:"Пожалуйста, выберите правильный ответ",insufficientOptions:"Требуется минимум 2 варианта",emptyOption:"Текст варианта не может быть пустым",emptyQuestion:"Текст вопроса не может быть пустым",importSection:"Импорт вопросов",downloadExample:"Скачать пример",importFile:"Импортировать файл",importDescription:"Импортируйте вопросы из текстового файла используя указанный формат"}}}}handleQuizTitleChange=e=>{this.setState({quizTitle:e.target.value})};handleQuestionChange=e=>{const{quizzes:n,currentQuizIndex:t}=this.state,o=[...n];o[t]={...o[t],question:e.target.value},this.setState({quizzes:o})};handleOptionChange=(e,n)=>{const{quizzes:t,currentQuizIndex:o}=this.state,r=[...t],i=[...r[o].options];i[e]={...i[e],text:n},r[o]={...r[o],options:i},this.setState({quizzes:r})};handleCorrectAnswerChange=e=>{const{quizzes:n,currentQuizIndex:t}=this.state,o=[...n];o[t]={...o[t],correctAnswer:e},this.setState({quizzes:o})};addOption=()=>{const{quizzes:e,currentQuizIndex:n}=this.state,t=[...e],o=[...t[n].options,{text:""}];t[n]={...t[n],options:o},this.setState({quizzes:t})};removeOption=e=>{const{quizzes:n,currentQuizIndex:t}=this.state,o=[...n],r=o[t].options.filter((n,t)=>t!==e);let i=o[t].correctAnswer;i>=e&&(i=Math.max(0,i-1)),o[t]={...o[t],options:r,correctAnswer:i},this.setState({quizzes:o})};addQuiz=()=>{const{quizzes:e,totalQuizzes:n}=this.state,t={id:n+1,question:"",options:[{text:""},{text:""}],correctAnswer:-1};this.setState({quizzes:[...e,t],totalQuizzes:n+1,currentQuizIndex:n})};removeQuiz=e=>{const{quizzes:n,totalQuizzes:t,currentQuizIndex:o}=this.state;if(t<=1)return;const r=n.filter((n,t)=>t!==e);let i=o;e<=o&&o>0&&(i=o-1),this.setState({quizzes:r,totalQuizzes:t-1,currentQuizIndex:i})};goToQuiz=e=>{this.setState({currentQuizIndex:e})};parseImportedText=e=>{const n=e.split("\n"),t=[];let o=null,r=1,i="";for(let e=0;e<n.length;e++){const s=n[e].trim();if(s&&!s.startsWith("#"))if(s.startsWith("Title:"))i=s.substring(6).trim();else if(s.startsWith("Q:"))o&&o.options.length>=2&&t.push(o),o={id:r++,question:s.substring(2).trim(),options:[],correctAnswer:-1};else if(s.startsWith("A:")||s.startsWith("A*:")){if(!o)continue;const e=s.startsWith("A*:"),n=s.substring(e?3:2).trim().split("#")[0].trim();n&&(o.options.push({text:n}),e&&(o.correctAnswer=o.options.length-1))}}return o&&o.options.length>=2&&t.push(o),{quizzes:t,title:i}};handleFileImport=e=>{const n=e.target.files[0];if(!n)return;const t=new FileReader;t.onload=e=>{try{const n=this.parseImportedText(e.target.result),{quizzes:t,title:o}=n;if(0===t.length)return void $_bx.showErrorMessage("No valid questions found in the file. Please check the format.");let r=!1;if(t.forEach((e,n)=>{-1===e.correctAnswer&&($_bx.showErrorMessage(`Question ${n+1}: No correct answer selected`),r=!0),e.options.length<2&&($_bx.showErrorMessage(`Question ${n+1}: At least 2 options required`),r=!0)}),r)return;this.setState({quizTitle:o||this.state.quizTitle,quizzes:t,totalQuizzes:t.length,currentQuizIndex:0});const i=o?`Successfully imported "${o}" with ${t.length} questions!`:`Successfully imported ${t.length} questions!`;$_bx.showSuccessMessage(i)}catch(e){console.error("Import error:",e),$_bx.showErrorMessage("Error parsing the file. Please check the format.")}},t.readAsText(n),e.target.value=""};validateQuizzes=e=>{const{quizzes:n,quizTitle:t}=this.state;let o=!1;return t.trim()||($_bx.showErrorMessage("Quiz title is required"),o=!0),n.forEach((n,t)=>{-1===n.correctAnswer&&($_bx.showErrorMessage(`Quiz ${t+1}: ${e.noCorrectAnswer}`),o=!0),n.options.length<2&&($_bx.showErrorMessage(`Quiz ${t+1}: ${e.insufficientOptions} (currently ${n.options.length})`),o=!0),n.options.forEach((n,r)=>{n.text.trim()||($_bx.showErrorMessage(`Quiz ${t+1}, Option ${r+1}: ${e.emptyOption}`),o=!0)}),n.question.trim()||($_bx.showErrorMessage(`Quiz ${t+1}: ${e.emptyQuestion}`),o=!0)}),!o};restoreState=()=>{try{const e=$_bx.get("quizTitle"),n=$_bx.get("quizzes"),t=$_bx.get("currentQuizIndex"),o=$_bx.get("totalQuizzes");e||n?(this.setState({quizTitle:e||"",quizzes:n||[{id:1,question:"",options:[{text:""},{text:""}],correctAnswer:-1}],currentQuizIndex:t||0,totalQuizzes:o||1}),console.log("State restored from saved data")):console.log("No saved data found, using default state")}catch(e){console.error("Error restoring state:",e)}};componentDidMount(){$_bx.onReady(()=>{this.restoreState();let e=$_bx.language()||"en";this.setState({messages:this.state.messages,currentLanguage:e});const n=this.state.messages[e];$_bx.event().on("before_save_state",e=>{const{quizTitle:t,quizzes:o}=this.state,r=o[this.state.currentQuizIndex],i=r.options.filter(e=>e.text.trim()),s={...r,options:i},a=[...o];a[this.state.currentQuizIndex]=s;const l={quizTitle:t.trim(),quizzes:a,currentQuizIndex:this.state.currentQuizIndex,totalQuizzes:this.state.totalQuizzes};this.validateQuizzes(n)&&(e.state.submitMeta={isDisabled:!0},e.state.quizTitle=l.quizTitle,e.state.quizzes=l.quizzes,e.state.currentQuizIndex=l.currentQuizIndex,e.state.totalQuizzes=l.totalQuizzes)})})}render(){const{quizTitle:e,quizzes:n,currentQuizIndex:t,totalQuizzes:o,messages:r,currentLanguage:i}=this.state,s=n[t],a=r[i||"en"];return v("div",{className:"edit-container"},v("div",{className:"import-section"},v("div",{className:"import-content"},v("div",{className:"import-text"},"Import questions from text file"),v("div",{className:"import-buttons"},v("a",{href:"https://1673f157-8972-4778-a72f-1f25830b1b56.selstorage.ru/examples/q1.txt",target:"_blank",rel:"noopener noreferrer",className:"download-example-btn",title:"Download example file",download:"quiz_import.txt"},"⬇️"),v("label",{className:"import-file-btn",title:"Import questions from file"},"📁",v("input",{type:"file",accept:".txt,.text,.md,.csv",onChange:this.handleFileImport,style:{display:"none"}}))))),v("div",{className:"form-section"},v("div",{className:"form-group"},v("label",{className:"bx-form-label"},a.quizTitle),v("input",{type:"text",className:"bx-form-input",value:e,onChange:this.handleQuizTitleChange,placeholder:a.enterQuizTitle}))),v("div",{className:"quiz-navigation"},v("div",{className:"quiz-tabs"},n.map((e,n)=>v("button",{key:e.id,className:"quiz-tab "+(t===n?"active":""),onClick:()=>this.goToQuiz(n)},"Quiz ",n+1,o>1&&v("button",{className:"remove-quiz-btn",onClick:e=>{e.stopPropagation(),this.removeQuiz(n)},title:"Remove quiz"},"✕")))),v("button",{type:"button",className:"add-quiz-btn",onClick:this.addQuiz},"+ ",a.addQuiz)),v("div",{className:"form-section"},v("div",{className:"form-group"},v("label",{className:"bx-form-label"},a.question," ",t+1),v("textarea",{className:"bx-form-textarea",value:s.question,onChange:this.handleQuestionChange,placeholder:a.enterQuestion,rows:3})),v("div",{className:"form-group"},v("label",{className:"bx-form-label"},a.answerOptions),v("div",{className:"options-list"},s.options.map((e,n)=>v("div",{key:n,className:"option-item"},v("input",{type:"radio",name:`correct-answer-${t}`,checked:s.correctAnswer===n,onChange:()=>this.handleCorrectAnswerChange(n),className:"correct-radio"}),v("input",{type:"text",className:"bx-form-input",value:e.text,onChange:e=>this.handleOptionChange(n,e.target.value),placeholder:`${a.enterOption} ${n+1}`}),v("button",{type:"button",className:"remove-option-btn",onClick:()=>this.removeOption(n),title:"Remove option"},"✕"),s.correctAnswer===n&&v("span",{className:"correct-indicator"},"✓ Correct")))),v("button",{type:"button",className:"add-option-btn",onClick:this.addOption},"+ ",a.addOption))))}},null),document.querySelector("#root"))})();</script>